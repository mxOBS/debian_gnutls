From 98901d7c4bc5d2a143f4f19dc37bb377f821f8bd Mon Sep 17 00:00:00 2001
From: Nikos Mavrogiannopoulos <nmav@gnutls.org>
Date: Thu, 17 Apr 2014 00:08:27 +0200
Subject: [PATCH] increased the space available for certificates.

That avoids a crash in sparc64; reported by Andreas Metzler.
---
 tests/chainverify.c | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

diff --git a/tests/chainverify.c b/tests/chainverify.c
index 53af2fa..85487bc 100644
--- a/tests/chainverify.c
+++ b/tests/chainverify.c
@@ -58,6 +58,12 @@ void doit(void)
 	int exit_val = 0;
 	size_t i;
 	int ret;
+	gnutls_x509_trust_list_t tl;
+	unsigned int verify_status, verify_status1;
+	gnutls_x509_crt_t certs[10];
+	gnutls_x509_crt_t ca;
+	gnutls_datum_t tmp;
+	size_t j;
 
 	/* The overloading of time() seems to work in linux (ELF?)
 	 * systems only. Disable it on windows.
@@ -78,12 +84,6 @@ void doit(void)
 		gnutls_global_set_log_level(4711);
 
 	for (i = 0; chains[i].chain; i++) {
-		gnutls_x509_trust_list_t tl;
-		unsigned int verify_status, verify_status1;
-		gnutls_x509_crt_t certs[4];
-		gnutls_x509_crt_t ca;
-		gnutls_datum_t tmp;
-		size_t j;
 
 		if (debug)
 			printf("Chain '%s' (%d)...\n", chains[i].name,
-- 
1.9.1


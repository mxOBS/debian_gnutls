From 4dd639950b605bd0385ac8823423574af6552f55 Mon Sep 17 00:00:00 2001
From: Nikos Mavrogiannopoulos <nmav@gnutls.org>
Date: Tue, 19 Jun 2012 00:38:57 +0200
Subject: [PATCH 1/3] correct comparison of sent data in dtls-stress.

---
 tests/dtls/dtls-stress.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/tests/dtls/dtls-stress.c b/tests/dtls/dtls-stress.c
index 6e85a80..7bad751 100644
--- a/tests/dtls/dtls-stress.c
+++ b/tests/dtls/dtls-stress.c
@@ -663,7 +663,7 @@ static void client(int sock)
 		len = process_error(gnutls_record_recv(session, buffer, sizeof(buffer)));
 	} while (len < 0);
 
-	if (len > 0 && strcmp(line, buffer) == 0) {
+	if (len > 0 && strncmp(line, buffer, len) == 0) {
 		exit(0);
 	} else {
 		exit(1);
-- 
1.7.10


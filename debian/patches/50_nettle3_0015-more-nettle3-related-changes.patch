From fc493bcebe06d3271d0a212cdbb1a5736f649fca Mon Sep 17 00:00:00 2001
From: Nikos Mavrogiannopoulos <nmav@gnutls.org>
Date: Sat, 6 Dec 2014 09:33:20 +0100
Subject: [PATCH 15/19] more nettle3 related changes

---
 lib/accelerated/x86/aes-gcm-padlock.c   | 4 ++--
 lib/accelerated/x86/aes-gcm-x86-aesni.c | 4 ++--
 lib/accelerated/x86/aes-gcm-x86-ssse3.c | 4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/lib/accelerated/x86/aes-gcm-padlock.c b/lib/accelerated/x86/aes-gcm-padlock.c
index 028334b..aff3ebc 100644
--- a/lib/accelerated/x86/aes-gcm-padlock.c
+++ b/lib/accelerated/x86/aes-gcm-padlock.c
@@ -45,8 +45,8 @@
  */
 struct gcm_padlock_aes_ctx GCM_CTX(struct padlock_ctx);
 
-static void padlock_aes_encrypt(void *_ctx,
-				unsigned length, uint8_t * dst,
+static void padlock_aes_encrypt(const void *_ctx,
+				size_t length, uint8_t * dst,
 				const uint8_t * src)
 {
 	struct padlock_ctx *ctx = _ctx;
diff --git a/lib/accelerated/x86/aes-gcm-x86-aesni.c b/lib/accelerated/x86/aes-gcm-x86-aesni.c
index 338dd1a..7d64eb2 100644
--- a/lib/accelerated/x86/aes-gcm-x86-aesni.c
+++ b/lib/accelerated/x86/aes-gcm-x86-aesni.c
@@ -43,8 +43,8 @@
  */
 struct gcm_x86_aes_ctx GCM_CTX(AES_KEY);
 
-static void x86_aes_encrypt(void *_ctx,
-				unsigned length, uint8_t * dst,
+static void x86_aes_encrypt(const void *_ctx,
+				size_t length, uint8_t * dst,
 				const uint8_t * src)
 {
 	AES_KEY *ctx = _ctx;
diff --git a/lib/accelerated/x86/aes-gcm-x86-ssse3.c b/lib/accelerated/x86/aes-gcm-x86-ssse3.c
index 0883b5c..b82c22a 100644
--- a/lib/accelerated/x86/aes-gcm-x86-ssse3.c
+++ b/lib/accelerated/x86/aes-gcm-x86-ssse3.c
@@ -42,8 +42,8 @@
  */
 struct gcm_x86_aes_ctx GCM_CTX(AES_KEY);
 
-static void x86_aes_encrypt(void *_ctx,
-				unsigned length, uint8_t * dst,
+static void x86_aes_encrypt(const void *_ctx,
+				size_t length, uint8_t * dst,
 				const uint8_t * src)
 {
 	AES_KEY *ctx = _ctx;
-- 
2.1.4

